{% extends "core/base.html" %}

{% block title %}
<header class="container px-3 px-sm-5 mt-0 mt-sm-4">
    <h1 class="d-none d-sm-block">Convocatorias Tfg</h1>
    <h1 class="d-block d-sm-none">Convocatorias Tfg</h1>
</header>
{% endblock title %}

{% block content %}

{% load announcements_extras %}
<section class="container border bg-white p-3 p-sm-5 mt-0 mt-sm-4">
  <form action="">
    <div class="form-row justify-content-between">
      <div class="form-group mr-auto mr-md-100 fb-sm-100 mr-sm-auto">
        <a class="btn btn-success btn-block" href="{% url 'announ_tfgs_create' %}">
          <i class="fas fa-plus mr-2"></i>Convocatoria
        </a>
      </div>
      <div class="form-group fb-sm-100 mr-lg-0 mr-auto">
        <button type="submit" for="titleProject" class="btn btn-light btn-block font-weight-bold">
          <i class="fas fa-search mr-2" style="font-size: 15px;"></i>Buscador
        </button>
      </div>
      <div class="form-group mx-2 fb-60 fb-sm-85 fb-xs-80">
        {{form_filter.name}}
      </div>
    </div>
  </form>
  <article style="overflow-x: scroll">
    <table class="table table-crud border m-0">
      <thead>
        <tr class="thead-light">
          <th>Nombre</th>
          <th>Estado Actual</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for announ in object_list  %}
        <tr>
          <td>{{announ.name}}</td>
          <td>{{announ.status|announ_tfg_status}}</td>
          <td>
            <div class="btn-group" role="group" aria-label="Basic example">
              <a class="btn btn-light" href="{% url 'center_tfgs_list' announ.id %}">
                <i class="fas fa-sign-in-alt"></i>
              </a>
              <a class="btn btn-light" href="{% url 'announ_tfgs_update' announ.id %}">
                <i class="far fa-edit"></i>
              </a>
              <a class="btn btn-light" onclick="return confirm('¿Estás seguro que lo deseas abrir al público?');" href="{% url 'announ_tfgs_status_public' announ.id %}">
                <i class="fas fa-door-open"></i>
              </a>
              <a class="btn btn-light" onclick="return confirm('¿Estás seguro que lo deseas cerrar?');" href="{% url 'announ_tfgs_status_close' announ.id %}">
                <i class="fas fa-door-closed"></i>              
              </a>
              <a class="btn btn-light" onclick="return confirm('¿Estás seguro que lo deseas eliminar?');" href="{% url 'announ_tfgs_delete' announ.id %}">
                <i class="far fa-trash-alt"></i>
              </a>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </article>
  {% if is_paginated %}
  <nav>
    <ul class="pagination justify-content-center mb-0 mt-4">
      {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      {% endif %}
      {% for i in paginator.page_range %}
      <li class="page-item {% if page_obj.number == i %}active{% endif %}">
        <a class="page-link" href="?page={{i}}">{{ i }}</a>
      </li>
      {% endfor %}
      {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</section>
{% endblock content %}